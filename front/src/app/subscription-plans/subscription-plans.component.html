<div class="subscription-container">
  <div class="subscription-header">
    <button class="back-btn btn-ghost" (click)="goBack()">
      <span>‚Üê</span> Back
    </button>
    <h1>Choose Your Plan</h1>
    <p>Select the perfect plan to unlock your fitness potential</p>
  </div>

  <div class="plans-grid">
    <div 
      class="plan-card" 
      [class.recommended]="plan.recommended"
      *ngFor="let plan of plans"
      (click)="selectPlan(plan)"
    >
      <div class="plan-badge" *ngIf="plan.recommended">
        <span>RECOMMENDED</span>
      </div>
      
      <div class="plan-header">
        <h3 class="plan-name">{{ plan.name }}</h3>
        <div class="plan-price">
          <span class="currency">$</span>
          <span class="amount">{{ plan.price }}</span>
          <span class="period" *ngIf="plan.price > 0">/{{ plan.period }}</span>
          <span class="period" *ngIf="plan.price === 0">{{ plan.period }}</span>
        </div>
      </div>

      <div class="plan-features">
        <ul>
          <li *ngFor="let feature of plan.features">
            <span class="checkmark">‚úì</span>
            {{ feature }}
          </li>
        </ul>
      </div>

      <button 
        class="btn-large btn-full" 
        [disabled]="processingPayment"
        [class.loading]="selectedPlan === plan.id"
      >
        <span *ngIf="plan.price === 0 && selectedPlan !== plan.id">Get Started Free</span>
        <span *ngIf="plan.price > 0 && selectedPlan !== plan.id">Choose {{ plan.name }}</span>
        <span *ngIf="selectedPlan === plan.id && processingPayment">
          <span class="loading-spinner"></span>
          Processing...
        </span>
      </button>
    </div>
  </div>

  <div class="subscription-footer">
    <p>All plans include a 7-day free trial. Cancel anytime.</p>
    <p class="security-note">üîí Secure payment powered by Stripe</p>
  </div>
</div>
