<div class="ingredients-list-container">
  <!-- Header -->
  <div class="list-header">
    <h2>Your Ingredients ({{ ingredients.length }})</h2>
    <button 
      class="btn-primary" 
      (click)="addNewIngredient.emit()"
      [disabled]="loading"
    >
      <span class="btn-icon">➕</span>
      Add Ingredient
    </button>
  </div>

  <!-- Loading State -->
  <div class="loading-state" *ngIf="loading">
    <div class="loading-spinner"></div>
    <p>Loading ingredients...</p>
  </div>

  <!-- Ingredients List -->
  <div class="ingredients-list" *ngIf="!loading && ingredients.length > 0">
    <!-- Ingredient rows -->
    <div 
      class="ingredient-item" 
      *ngFor="let ingredient of ingredients; trackBy: trackByIngredientId"
      [class.admin-ingredient]="ingredient.createdByType === 'admin'"
      [class.user-ingredient]="ingredient.createdByType === 'user'"
    >
      <div class="col-name">
        <span class="ingredient-name">{{ ingredient.name }}</span>
        <span class="creator-badge" [class]="ingredient.createdByType">
          {{ ingredient.createdByType === 'admin' ? '👑' : '👤' }}
        </span>
      </div>
      
      <div class="col-brand">
        <span *ngIf="ingredient.brand; else noBrand">{{ ingredient.brand }}</span>
        <ng-template #noBrand><span class="no-data">-</span></ng-template>
      </div>
      
      <div class="col-calories">
        <span class="value">{{ ingredient.caloriesPer100g }}</span> cal
      </div>
      
      <div class="col-protein">
        <span class="value">{{ ingredient.proteinPer100g }}g</span> prot
      </div>
      
      <div class="col-carbs">
        <span class="value">{{ ingredient.carbsPer100g }}g</span> carbs
      </div>
      
      <div class="col-fat">
        <span class="value">{{ ingredient.fatPer100g }}g</span> fat
      </div>
      
      <div class="col-fiber">
        <span *ngIf="ingredient.fiberPer100g; else noFiber" class="value">{{ ingredient.fiberPer100g }}g</span> fiber
        <ng-template #noFiber><span class="no-data">-</span></ng-template>
      </div>
      
      <div class="col-actions">
        <div class="action-buttons" *ngIf="ingredient.createdByType === 'user'">
          <button class="action-btn edit-btn" (click)="onEdit(ingredient)" title="Edit">✏️</button>
          <button class="action-btn delete-btn" (click)="onDelete(ingredient)" title="Delete">🗑️</button>
        </div>
        <span class="admin-only" *ngIf="ingredient.createdByType === 'admin'">Admin</span>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="!loading && ingredients.length === 0">
    <div class="empty-icon">🥗</div>
    <h3>No ingredients found</h3>
    <p>Start by adding your first ingredient to build your nutrition database.</p>
    <button 
      class="btn btn-primary" 
      (click)="addNewIngredient.emit()"
    >
      Add Your First Ingredient
    </button>
  </div>
</div>
